<div class="space-y-6">
  <div class="md:flex md:items-center md:justify-between">
    <div class="flex-1 min-w-0">
      <h2 class="text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"><%= @track.name %></h2>
      <p class="mt-1 text-sm text-gray-500 truncate"><%= @track.query %></p>
    </div>
    <div class="mt-4 flex md:mt-0 md:ml-4 space-x-3">
      <%= link_to feed_track_url(@track, format: :rss), class: "inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#287fc6]", target: "_blank" do %>
        <svg class="-ml-1 mr-2 h-5 w-5 text-gray-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3a1 1 0 000 2c5.523 0 10 4.477 10 10a1 1 0 102 0C17 8.373 11.627 3 5 3z" /><path d="M4 9a1 1 0 011-1 7 7 0 017 7 1 1 0 11-2 0 5 5 0 00-5-5 1 1 0 01-1-1zM3 15a2 2 0 012-2 3 3 0 013 3 2 2 0 01-2 2 2 2 0 01-3-3z" /></svg>
        RSS Feed
      <% end %>
      <%= link_to "Back to List", tracks_path, class: "inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#287fc6]" %>
      <%= link_to "Manage Deliveries", track_deliveries_path(@track), class: "inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#287fc6] hover:bg-[#2069a5] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#287fc6]" %>
    </div>
  </div>

  <div class="bg-white shadow overflow-hidden sm:rounded-lg">
    <div class="px-4 py-5 sm:px-6">
      <h3 class="text-lg leading-6 font-medium text-gray-900">Track Details</h3>
      <p class="mt-1 max-w-2xl text-sm text-gray-500">Configuration and status.</p>
    </div>
    <div class="border-t border-gray-200">
      <dl>
        <div class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
          <dt class="text-sm font-medium text-gray-500">Status</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
            <% status_styles = {
              "active" => "bg-green-100 text-green-800",
              "inactive" => "bg-gray-100 text-gray-800",
              "error" => "bg-red-100 text-red-800",
              "pending" => "bg-yellow-100 text-yellow-800"
            } %>
            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full <%= status_styles[@track.status] %>">
              <%= @track.status.capitalize %>
            </span>
          </dd>
        </div>
        <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
          <dt class="text-sm font-medium text-gray-500">Type</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= @track.track_type %></dd>
        </div>
        <div class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
          <dt class="text-sm font-medium text-gray-500">Keywords</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
            <% if @track.keywords.present? %>
              <div class="flex flex-wrap gap-2">
                <% @track.keywords.each do |keyword| %>
                  <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                    <%= keyword %>
                  </span>
                <% end %>
              </div>
            <% else %>
              <span class="text-gray-400">None</span>
            <% end %>
          </dd>
        </div>
        <div class="bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
          <dt class="text-sm font-medium text-gray-500">Semantic Query</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= @track.query.presence || '<span class="text-gray-400">None</span>'.html_safe %></dd>
        </div>
        <div class="bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
          <dt class="text-sm font-medium text-gray-500">Threshold</dt>
          <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"><%= @track.threshold %></dd>
        </div>
      </dl>
    </div>
  </div>
</div>
